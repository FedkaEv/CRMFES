<html>

    <body>
        <div class="row">
            <div class="col-12 col-md-8 col-xl-6">
                <h4>Журнал системних уведомлений</h4>
                <div class="navbar nav">
                    <form zippy="filter" class="form-inline ">


                        <input class="form-control mr-2" type="text" zippy="searchtext" placeholder="Поиск по контенту">

                        <input type="submit" class="  btn btn-outline-success  " value="Искать">


                    </form>
                </div>

                <table class="table table-sm    ">
                    <tr zippy="nlist">

                        <td><i class="fa fa-clock"> </i> <span zippy="ndate"></span>

                            <p zippy="msg">
                            <p>
                        </td>
                        <td><span zippy="newn" class="badge badge-info">Новое</span></td>


                    </tr>
                </table>
                <div zippy="pag"></div>

            </div>



        </div>
       {{={| |}=}}             
  <div  id="vapp" class="col-12 col-md-10 col-lg-8" >
        <a onclick="updateItems()"   class="btn btn-info">Обновить</a>
        
        <table class="table table-sm">
    <tr v-for="item, index in itemlist">
        <td>{{item.number}}</td>
        <td>{{item.amount}}</td> 

    </tr>    
        </table>
        <paginator   :onpage="change"  v-bind:rows="rowscnt" pagesize="5" buttons="15"></paginator>
      
      
 
  </div> 
 {|={{ }}=|}  
 
 <script>
        
    var vapp = new Vue({
      el: '#vapp',
      data: {
          itemlist:[] ,
          rowscnt:10
      }  ,
     components: {
            'paginator': httpVueLoader('/assets/js/vue/paginator.vue')
        }, 
        methods: {
            change:function( i){
               console.log(i);
            }
        }      
      
    })   
 
  
 
    function updateItems(){
          callPageMethod('getItems',null,null,(data)=> 
          {
                   
              vapp.itemlist= JSON.parse(data)  
              vapp.rowscnt=56
          
          });
            
      } 
 </script>   
 
          
    </body>

</html>
